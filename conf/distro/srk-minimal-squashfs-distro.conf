# --------------------------------------------------------------------
# SRK Minimal SquashFS Distro
#
# This distribution provides a lightweight, reproducible base system
# for embedded devices that require:
#
# ✅ systemd as init system
# ✅ usrmerge support
# ✅ squashfs-based root filesystem
#
# ❌ Excludes:
#    - sysvinit (legacy init system)
#    - kernel and U-Boot packages (handled separately / not part of rootfs)
#
# Goal:
#   Provide a minimal userland-focused image for squashfs-based
#   embedded systems, without bootloader or kernel artifacts.
# --------------------------------------------------------------------

DISTRO = "srk-minimal-squashfs-distro"
DISTRO_NAME = "SRK Minimal SquashFS Distro"
DISTRO_VERSION = "1.0"

# System features
DISTRO_FEATURES:append = " systemd usrmerge"
DISTRO_FEATURES:remove = " sysvinit package-management"

# Init system
VIRTUAL-RUNTIME_init_manager = "systemd"

# Build dependencies - remove unnecessary components for embedded squashfs images
EXTRA_IMAGEDEPENDS:remove = " virtual/bootloader qemu-native qemu-helper-native"
